{namespace vh=RKW\RkwOrder\ViewHelpers}


<f:section name="userData">
    <div class="v320-1-of-2">

        <!-- Gender -->
        <div class="v320-1">
            <label for="txrkworder-gender" class="form-label">
                <f:translate key="LLL:EXT:rkw_order/Resources/Private/Language/locallang.xlf:tx_rkworder_domain_model_order.gender" />
            </label>
            <f:form.select id="txrkworder-gender" property="gender" value="{f:if(condition:'{newOrder.gender}',then:'{newOrder.gender}',else:'{frontendUser.txRkwregistrationGender}')}" options="{99: '{f:translate(key:\"LLL:EXT:rkw_order/Resources/Private/Language/locallang.xlf:tx_rkworder_domain_model_order.gender.I.neutral\")}', 0: '{f:translate(key:\"LLL:EXT:rkw_order/Resources/Private/Language/locallang.xlf:tx_rkworder_domain_model_order.gender.I.man\")}', 1: '{f:translate(key:\"LLL:EXT:rkw_order/Resources/Private/Language/locallang.xlf:tx_rkworder_domain_model_order.gender.I.woman\")}'}" optionValueField="uid" optionLabelField="name" />
        </div>

        <!-- firstName -->
        <div class="v320-1">
            <label for="txrkworder-firstName" class="form-label">
                <f:translate key="LLL:EXT:rkw_order/Resources/Private/Language/locallang.xlf:tx_rkworder_domain_model_order.first_name" />
            </label>
            <f:if condition="{newOrder.firstName}">
                <f:then>
                    <f:form.textfield id="txrkworder-firstName" property="firstName" value="{firstName}" additionalAttributes="{autocomplete: 'fname'}" class="feedback-field" />
                </f:then>
                <f:else>
                    <f:form.textfield id="txrkworder-firstName" property="firstName" value="{frontendUser.firstName}" additionalAttributes="{autocomplete: 'fname'}" class="feedback-field" />
                </f:else>
            </f:if>
        </div>

        <!-- lastName -->
        <div class="v320-1">
            <label for="txrkworder-lastName" class="form-label">
                <f:translate key="LLL:EXT:rkw_order/Resources/Private/Language/locallang.xlf:tx_rkworder_domain_model_order.last_name" />
            </label>
            <f:if condition="{newOrder.lastName}">
                <f:then>
                    <f:form.textfield id="txrkworder-lastName" property="lastName" value="{lastName}" additionalAttributes="{autocomplete: 'lname'}" class="feedback-field"/>
                </f:then>
                <f:else>
                    <f:form.textfield id="txrkworder-lastName" property="lastName" value="{frontendUser.lastName}" additionalAttributes="{autocomplete: 'lname'}" class="feedback-field"/>
                </f:else>
            </f:if>
        </div>
    </div>


    <div class="v320-2-of-2">

        <!-- company -->
        <div class="v320-1">
            <label for="txrkworder-company" class="form-label">
                <f:translate key="LLL:EXT:rkw_order/Resources/Private/Language/locallang.xlf:tx_rkworder_domain_model_order.company" />
                <span class="optional">&nbsp;<f:translate key="LLL:EXT:rkw_order/Resources/Private/Language/locallang.xlf:partials_order_formFields.labelOptional" /></span>
            </label>
            <f:if condition="{newOrder.company}">
                <f:then>
                    <f:form.textfield id="txrkworder-company" property="company" value="{company}" class="feedback-field"/>
                </f:then>
                <f:else>
                    <f:form.textfield id="txrkworder-company" property="company" value="{frontendUser.company}" class="feedback-field"/>
                </f:else>
            </f:if>
        </div>

        <!-- address -->
        <div class="v320-1">
            <label for="txrkworder-address" class="form-label">
                <f:translate key="LLL:EXT:rkw_order/Resources/Private/Language/locallang.xlf:tx_rkworder_domain_model_order.address" />
            </label>
            <f:if condition="{newOrder.address}">
                <f:then>
                    <f:form.textfield id="txrkworder-address" property="address" value="{address}" additionalAttributes="{autocomplete: 'address'}" class="feedback-field"/>
                </f:then>
                <f:else>
                    <f:form.textfield id="txrkworder-address" property="address" value="{frontendUser.address}" additionalAttributes="{autocomplete: 'address'}" class="feedback-field"/>
                </f:else>
            </f:if>
        </div>

        <div class="v320-1 small-fields">
            <!-- zip -->
            <div class="v320-1-of-2">
                <label for="txrkworder-zip" class="form-label">
                    <f:translate key="LLL:EXT:rkw_order/Resources/Private/Language/locallang.xlf:tx_rkworder_domain_model_order.zip" />
                </label>
                <f:if condition="{newOrder.zip}">
                    <f:then>
                        <f:form.textfield id="txrkworder-zip" property="zip" value="{zip}" additionalAttributes="{autocomplete: 'zip'}" class="feedback-field"/>
                    </f:then>
                    <f:else>
                        <f:form.textfield id="txrkworder-zip" property="zip" value="{frontendUser.zip}" additionalAttributes="{autocomplete: 'zip'}" class="feedback-field"/>
                    </f:else>
                </f:if>
            </div>

            <!-- city -->
            <div class="v320-2-of-2">
                <label for="txrkworder-city" class="form-label">
                    <f:translate key="LLL:EXT:rkw_order/Resources/Private/Language/locallang.xlf:tx_rkworder_domain_model_order.city" />
                </label>
                <f:if condition="{newOrder.city}">
                    <f:then>
                        <f:form.textfield id="txrkworder-city" property="city" value="{city}" additionalAttributes="{autocomplete: 'city'}" class="feedback-field"/>
                    </f:then>
                    <f:else>
                        <f:form.textfield id="txrkworder-city" property="city" value="{frontendUser.city}" additionalAttributes="{autocomplete: 'city'}" class="feedback-field"/>
                    </f:else>
                </f:if>
            </div>
        </div>
    </div>

</f:section>


<!-- ==================================================================== -->

<f:section name="userDataEmail">

    <f:if condition="<vh:validEmail frontendUser='{frontendUser}' /> == 1">
        <f:then>
            <f:form.hidden property="email" value="{frontendUser.email}" />
        </f:then>
        <f:else>
            <div class="v320-1-of-2">
                <div class="v320-1">

                    <label for="txrkworder-email" class="form-label">
                        <f:translate key="LLL:EXT:rkw_order/Resources/Private/Language/locallang.xlf:tx_rkworder_domain_model_order.email" />
                    </label>
                    <f:if condition="{frontendUser}">
                        <f:then>
                            <f:form.textfield id="txrkworder-email" property="email" value="{frontendUser.email}" additionalAttributes="{autocomplete: 'email'}"  class="feedback-field"/>
                        </f:then>
                        <f:else>
                            <f:form.textfield id="txrkworder-email" property="email" additionalAttributes="{autocomplete: 'email'}"  class="feedback-field"/>
                        </f:else>
                    </f:if>
                </div>
            </div>
        </f:else>
    </f:if>

</f:section>




